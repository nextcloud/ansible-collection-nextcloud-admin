---
# defaults file for nextcloud
# [DOWNLOAD]
  # An URL will be generated following naming rules used by nextcloud's repository
  # Not following this rules correctly will make the role unable to download nextcloud.
nextcloud_version_channel: "releases" # mandatory # releases | prereleases | daily
    # channel releases requires version_full.
    # channel prereleases requires version_full. Optional: version_special.
    # channel daily requires requires version_full & version_special.
nextcloud_get_latest: true # mandatory # specify if the latest archive should be downloaded.
    # Override generated file name for channels: releases | daily.
    # optional : version_major.
# nextcloud_version_major: 10 # (9 | 10 | 11| ..) for releases |  for daily : (master | stable9 | stable10 | ...)
# nextcloud_version_full: "10.0.3" # full version string
# nextcloud_version_special: "" #  For prereleases: "RCn|beta" | for daily "YYYY-MM-DD"
nextcloud_repository: "https://download.nextcloud.com/server" # Domain URL where to download Nextcloud.
nextcloud_archive_format: "zip" # zip | tar.bz2
# nextcloud_full_url: "https://h2g2.com/downloads/42/my_nexcloud.zip" # specify directly a full URL to the archive if you don't like rules.


# [CONFIG]
nextcloud_trusted_domain: ["{{ ansible_default_ipv4.address }}"]
nextcloud_instance_name: "{{ nextcloud_trusted_domain | first }}"

# nextcloud_websrv: "apache2" | "nginx"
nextcloud_install_websrv: true
nextcloud_websrv: "apache2"
nextcloud_websrv_template: "templates/{{nextcloud_websrv}}_nc.j2"
nextcloud_webroot: "/opt/nextcloud"
nextcloud_data_dir: "/var/ncdata"
nextcloud_admin_name: "admin"
# nextcloud_admin_pwd: "secret"

# [DATABASE]
# nextcloud_db_backend: "mysql"/"mariadb" | "pgsql"
nextcloud_install_db: true
nextcloud_db_host: "127.0.0.1"
nextcloud_db_backend: "mysql"
nextcloud_db_name: "nextcloud"
nextcloud_db_admin: "ncadmin"
# nextcloud_db_pwd: "secret"

# [TLS] parameters used in the apache2 & nginx templates
nextcloud_install_tls: true
nextcloud_tls_enforce: true
nextcloud_force_strong_apache_ssl: true
nextcloud_tls_cert_method: "self-signed"
nextcloud_tls_dhparam: "/etc/ssl/dhparam.pem"
nextcloud_hsts: false
# nextcloud_tls_cert_method: "self-signed" | "signed" | "installed"
# nextcloud_tls_cert: /path/to/cert
# nextcloud_tls_cert_key: /path/to/cert/key
# nextcloud_tls_cert_chain: /path/to/cert/chain
# nextcloud_tls_src_cert: /path/to/cert
# nextcloud_tls_src_cert_key: /path/to/cert/key

# [APPS]
nextcloud_apps: {}

# [SYSTEM]
nextcloud_websrv_user: "www-data"
nextcloud_websrv_group: "www-data"
#nextcloud_mysql_root_pwd: "secret"
